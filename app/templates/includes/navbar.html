<nav class="navbar navbar-expand-lg bg-body-emphasis mx-3">
  <div class="container-fluid">
      <a class="icon-link h1 link-underline-light" href="{% url "index" %}">
          <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="currentColor" class="bi bi-file-code" viewBox="0 0 16 16">
              <path d="M6.646 5.646a.5.5 0 1 1 .708.708L5.707 8l1.647 1.646a.5.5 0 0 1-.708.708l-2-2a.5.5 0 0 1 0-.708zm2.708 0a.5.5 0 1 0-.708.708L10.293 8 8.646 9.646a.5.5 0 0 0 .708.708l2-2a.5.5 0 0 0 0-.708z"/>
              <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2zm10-1H4a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1"/>
          </svg>
          AgileDoc
      </a>
      {% comment %} <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
      </button> {% endcomment %}
    {% comment %} <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="#">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Features</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Pricing</a>
        </li>
        <li class="nav-item">
          <a class="nav-link disabled" aria-disabled="true">Disabled</a>
        </li>
      </ul>
    </div> {% endcomment %}
    {% if user.is_authenticated %}
    <div class="d-flex justify-content-end align-items-center" style="width: 10rem;">
      <a 
        class="border rounded d-flex justify-content-center btn p-1" 
        style="width: 40px;height:40px;"
        href="#" 
        data-bs-toggle="tooltip" 
        data-bs-placement="bottom" 
        data-bs-title="Tooltip on bottom"
      >
      <svg xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
        <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"/>
      </svg>
      </a>
      <div class="btn-group dropstart" role="group">
        <div class="border rounded-circle align-items-center btn p-1 ms-2 " style="width: 32px;height:32px;" data-bs-toggle="dropdown" aria-expanded="false">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-caret-down" viewBox="0 0 16 16">
            <path d="M3.204 5h9.592L8 10.481zm-.753.659 4.796 5.48a1 1 0 0 0 1.506 0l4.796-5.48c.566-.647.106-1.659-.753-1.659H3.204a1 1 0 0 0-.753 1.659"/>
          </svg>
          <ul class="dropdown-menu ">
            <li><a class="dropdown-item" href="#">Dropdown link</a></li>
            <li><a class="dropdown-item" href="#">Dropdown link</a></li>
            <li><a class="dropdown-item" href="#">Dropdown link</a></li>
            <li>
              <a class="dropdown-item" href="{% url 'login' %}">
                {{user.get_username}}
              </a>
            </li>
            <li>
              <button type="button" class="dropdown-item" onclick="closedSession()">
                Cerrar sesión
              </button>
            </li>
          </ul>        
        </div> 
      </div>
    </div>
    {% else %}
    <div class="d-flex justify-content-start align-items-center" style="width: 22rem;">
      <a class="nav-link btn mx-3 p-1" aria-disabled="true" href="{% url "login" %}">Iniciar sesión</a>
      <a class="btn btn-dark color-emphasis p-1" href="{% url "sign-up" %}">Comienza a probar AgileDoc</a>
    </div>
    {% endif %}

  </div>
</nav>

<script>
const closedSession = ()=>{
  var oReq = new XMLHttpRequest()
  oReq.open('GET','http://127.0.0.1:8000/accounts/logout/')
  oReq.send()

  alert('cerrando sesion')
  console.log(oReq)

  location.reload()
}
</script>